<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a href="#" class="navbar-right"><img style="	width: 50px;" src="/static/Images/note.png" alt=""></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link" href="">Home<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="about">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link disabled" href="#">Coming soon</a>
                </li>
            </ul>
        </div>
    </nav>

    <title>Music2PDF</title>

</head>
<body>
    <div class="row">
        <div class="col-md-12 text-center">
            <div class="col-xs-12" style="height:25px;"></div>
            <h1><b>YouTube To PDF</b></h1>
            <div class="col-xs-12" style="height:25px;"></div>

        <div class="form-group shadow-textarea">
{#          <label for="youtube"></label>#}
            <input type="text" class="form-control-lg-4 z-depth-5" id="youtube" rows="3" placeholder="YouTube URL"></input>
            <button type="button" class="btn btn-primary" onclick="colorSelect()" id="color-picker-2">Start</button></br>
            <h8>(please use full URL)</h8>
            <div class="col-xs-12" style="height:50px;"></div>
            <p id="img"></p>
            <p id="txt"></p>
            <input type='color' style="display:none;" name='barcolor' id="clr" value='#6699ff' /></br>
             
            <!-- Script that causes new information to appear after YouTube link is entered -->
            <script>
                function colorSelect() {
                    var clr = document.getElementById("clr");
                    var img = document.getElementById("img");
                    var btn = document.getElementById("btn");
                    var txt = document.getElementById("txt");
    
                    img.innerHTML = "<img src='/static/Images/bar_example.png' alt='heads' />";
                    txt.innerHTML = "Select the color of the moving bar in your video: "

                    clr.style.display = "block";
                    clr.style.margin = "0 auto";
                    btn.style.display = "block";
                    btn.style.margin = "0 auto";
                }
            </script>

            <!-- Script so the make PDF button runs python function in sheet_generator -->
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
            <script type="text/javascript">
                window.onload = function() {
                    // setup the button click
                    document.getElementById("pdfBtn").onclick = function() {
                        doWork()
                    };
                }
                
                function doWork() {
                    var color =  $("#clr").val();
                    var url = document.getElementById("youtube").value;
                    console.log(color);
                    var vars = [
                        { "color":color, "url":url }
                    ];
                    vars = JSON.stringify(vars);

                    // send JSON to server
                    $.post("test", vars, function(){
                
                    });
                 event.preventDefault();
                }
            </script>
            <a href="" id=pdfBtn><button type="button" class="btn btn-primary" id="btn" style="display:none;">Create PDF</button></a>
        </div>

{#      <label for="link">URL: </label>#}
{#      <input type="text" class="form-control" cols="5" id="link">#}
        </div>
    </div>

</body>
</html>